<!-- Basic form layout section start -->
<section id="basic-form-layouts" *ngIf="DisplayStudentForm">
    <!-- <div class="row">
      <div class="col-md-12">
        <div class="content-header">Student Form</div> 
      </div>
    </div> -->
  
    <div class="card">
      <div class="card-header">
        <h4 class="card-title" id="basic-layout-form">Create Student</h4>
      </div>
      <div class="card-body">
        <div class="card-block">
          <div class="px-3">
            <form class="form" [formGroup]="signupform" (ngSubmit)="Register()">
              <div class="form-body">
  
                <div class="row">
                  <div class="col-md-6">
                    <h4 class="form-section">
                      <i class="ft-user"></i> Personal Info</h4>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="fname">First Name</label>
  
                          <input type="text" id="fname" class="form-control" name="fname" formControlName="FirstName" [(ngModel)]="student.FirstName"
                            required>
                          <div *ngIf="signupform.controls['FirstName'].errors && (signupform.controls['FirstName'].dirty || signupform.controls['FirstName'].touched)">
                            <small class="text-danger" *ngIf="signupform.get('FirstName').hasError('required')">First Name is required</small>
                            <small class="text-danger" *ngIf="signupform.get('FirstName').hasError('minlength') && !(signupform.get('FirstName').hasError('pattern'))">Minimum 3 characters</small>
                            <small class="text-danger" *ngIf="signupform.get('FirstName').hasError('pattern')">Enter only characters</small>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="lname">Last Name</label>
                          <input type="text" id="lname" class="form-control" name="lname" formControlName="LastName" [(ngModel)]="student.LastName"
                            required>
                          <div *ngIf="signupform.controls['LastName'].errors && (signupform.controls['LastName'].dirty || signupform.controls['LastName'].touched)">
                            <small class="text-danger" *ngIf="signupform.get('LastName').hasError('required')">Last Name is required</small>
                            <small class="text-danger" *ngIf="signupform.get('LastName').hasError('minlength') && !(signupform.get('LastName').hasError('pattern'))">Minimum 3 characters</small>
                            <small class="text-danger" *ngIf="signupform.get('LastName').hasError('pattern')">Enter only character</small>
  
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="DateOfBirth">Date of Birth</label>
                          <input type="text" class="form-control" id="DateOfBirth" name="DateOfBirth" bsDatepicker formControlName="DateOfBirth" [(ngModel)]="student.DateOfBirth">
                          <div *ngIf="signupform.controls['DateOfBirth'].errors && (signupform.controls['DateOfBirth'].dirty || signupform.controls['DateOfBirth'].touched)">
                            <small class="text-danger" *ngIf="signupform.get('DateOfBirth').hasError('required')">Date Of Birth is required </small>
                          </div>
  
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="AadharNumber">Aadhar Number</label>
                          <input type="text" class="form-control" id="AadharNumber" name="AadharNumber" formControlName="AadharNumber" [(ngModel)]="student.AadharNumber"
                            required>
                          <div *ngIf="signupform.controls['AadharNumber'].errors && (signupform.controls['AadharNumber'].dirty || signupform.controls['AadharNumber'].touched)">
                            <small class="text-danger" *ngIf="signupform.get('AadharNumber').hasError('required')">Aadhar Number is required</small>
                            <small class="text-danger" *ngIf="signupform.get('AadharNumber').hasError('pattern')">Enter only Numbers</small>
                            <small class="text-danger" *ngIf="signupform.get('AadharNumber').hasError('minlength') && !(signupform.get('AadharNumber').hasError('pattern'))">Enter 12 Numbers only</small>
                            <small class="text-danger" *ngIf="signupform.get('AadharNumber').hasError('maxlength') && !(signupform.get('AadharNumber').hasError('pattern'))">Enter 12 Numbers only</small>
  
                          </div>
  
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label>Gender</label>
                      <div class="input-group">
                        <!-- <input type="radio" name="Gender" class="custom-control-input"   value='Male' formControlName="Gender" [(ngModel)]='student.Gender'>Male
                          <input type="radio" name='Gender' class="custom-control-input" value='Female' formControlName="Gender" [(ngModel)]='student.Gender'>Female -->
                        <label class="display-inline-block custom-control custom-radio ml-1">
                          <input type="radio" class="custom-control-input" [(ngModel)]="student.Gender" formControlName="Gender" name="Gender" value='Male'
                            required>
                          <span class="custom-control-indicator"></span>
                          <span class="custom-control-description ml-0">Male</span>
                        </label>
                        <label class="display-inline-block custom-control custom-radio">
                          <input type="radio" class="custom-control-input" [(ngModel)]="student.Gender" formControlName="Gender" name="Gender" value='Female'
                            required>
                          <span class="custom-control-indicator"></span>
                          <span class="custom-control-description ml-0">Female</span>
                        </label>
                        <div *ngIf="signupform.controls['Gender'].errors && (signupform.controls['Gender'].dirty || signupform.controls['Gender'].touched)">
                          <small class="text-danger" *ngIf="signupform.get('Gender').hasError('required')">Gender is required </small>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <h4 class="form-section">
                      <i class="ft-file-text"></i> Contact Information</h4>
  
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="ParentName">Parent Name</label>
                          <input type="text" class="form-control" id="ParentName" name="ParentName" formControlName="ParentName" [(ngModel)]="student.ParentName"
                            required>
                          <div *ngIf="signupform.controls['ParentName'].errors && (signupform.controls['ParentName'].dirty || signupform.controls['ParentName'].touched)">
                            <small class="text-danger" *ngIf="signupform.get('ParentName').hasError('required')">Parent Name is required</small>
                            <small class="text-danger" *ngIf="signupform.get('ParentName').hasError('minlength') && !(signupform.get('ParentName').hasError('pattern'))">Minimum 3 characters</small>
                            <small class="text-danger" *ngIf="signupform.get('ParentName').hasError('pattern')">Enter only characters</small>
                          </div>
                        </div>
                      </div>
  
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="ParentNumber">Parent Number</label>
                          <input type="tel" class="form-control" id="ParentNumber" name="ParentNumber" formControlName="ParentNumber" [(ngModel)]="student.ParentNumber"
                            required>
                          <div *ngIf="signupform.controls['ParentNumber'].errors && (signupform.controls['ParentNumber'].dirty || signupform.controls['ParentNumber'].touched)">
                            <small class="text-danger" *ngIf="signupform.get('ParentNumber').hasError('required')">Parent Number is required</small>
                            <small class="text-danger" *ngIf="signupform.get('ParentNumber').hasError('pattern')">Enter valid Parent Number</small>
                          </div>
                        </div>
                      </div>
                    </div>
  
  
                  </div>
  
  
  
                </div>
  
                <div class="row">
                  <div class="col-md-6">
                    <h4 class="form-section">
                      <i class="ft-map-pin"></i> Course Information</h4>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                            <label for="Course">Course</label>
                          <ng-multiselect-dropdown [placeholder]="'custom placeholder'" [data]="courseslist"  formControlName="Course" [(ngModel)]="student.Course" [settings]="dropdownSettings"  >
                        </ng-multiselect-dropdown>
  
                        <!-- <select id="Course" name="Course" class="form-control" [(ngModel)]="student.Course" formControlName="Course" required>
                            <option disabled [ngValue]="null">Select Course</option>
                            <option *ngFor="let item of courseslist" value={{item.CourseId}}>
                              {{item.CourseName}}
                            </option>
                          </select> -->
                          
                        
                            <!-- <option value="Yoga">Yoga</option>
                                  <option value="TutionFee">Tution Fee</option>
                                  <option value="BusFee">BusFee</option> -->
                        </div>
                       
                      </div>
                      <div class="col-md-6">
  
                      </div>
                    </div>
  
  
                  </div>
                  <div class="col-md-6">
                    <h4 class="form-section">
                      <i class="ft-file-text"></i> Student Education Information</h4>
  
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="Class">Class</label>
                          <select id="Class" name="Class" class="form-control" [(ngModel)]="student.Class" formControlName="Class" (change)="GetSections($event.target.value)"
                            required>
                            <option disabled [ngValue]="null">Select Class</option>
                            <option *ngFor="let item of classeslist" value={{item.ClassID}}>
                              {{item.Class}}
                            </option>
                            <!-- <option value="LKG">L.K.G</option>
                            <option value="UKG">U.K.G</option>
                            <option value="1stClass">1st Class</option>
                            <option value="2stClass">2nd Class</option>
                            <option value="3rdClass">3rd Class</option>
                            <option value="4thClass">4th Class</option>
                            <option value="5thClass">5th Class</option>
                            <option value="6thClass">6th Class</option>
                            <option value="7thClass">7th Class</option>
                            <option value="8thClass">8th Class</option>
                            <option value="9thClass">9th Class</option>
                            <option value="10thClass">10th Class</option> -->
                          </select>
                        </div>
                      </div>
  
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="Section">Section</label>
                          <select id="Section" name="Section" class="form-control" [(ngModel)]="student.Section" formControlName="Section" required>
                            <!-- <option value="0" selected="" disabled="">Section</option> -->
                            <option disabled [ngValue]="null">Select Section</option>
                            <option *ngFor="let item of sectionlist" value="item.SectionID">
                              {{item.SectionName}}
                            </option>
                          </select>
                        </div>
                      </div>
                    </div>
  
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="RollNumber">Roll Number</label>
                          <input type="text" class="form-control" id="RollNumber" name="RollNumber" formControlName="RollNumber" [(ngModel)]="student.RollNumber"
                            required>
                          <div *ngIf="signupform.controls['RollNumber'].errors && (signupform.controls['RollNumber'].dirty || signupform.controls['RollNumber'].touched)">
                            <small class="text-danger" *ngIf="signupform.get('RollNumber').hasError('required')">Roll Number is required </small>
  
  
                          </div>
                        </div>
                      </div>
  
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="BusRouteNumber">Bus Route Number</label>
                          <input type="tel" class="form-control" id="BusRouteNumber" name="BusRouteNumber" formControlName="BusRouteNumber" [(ngModel)]="student.BusRouteNumber"
                            required>
                          <div *ngIf="signupform.controls['BusRouteNumber'].errors && (signupform.controls['BusRouteNumber'].dirty || signupform.controls['BusRouteNumber'].touched)">
                            <small class="text-danger" *ngIf="signupform.get('BusRouteNumber').hasError('required')">Bus Route Number is required </small>
  
  
                          </div>
                        </div>
                      </div>
                    </div>
  
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="BusRouteName">Bus Route Name</label>
                          <input type="text" class="form-control" id="BusRouteName" name="BusRouteName" formControlName="BusRouteName" [(ngModel)]="student.BusRouteName"
                            required>
                          <div *ngIf="signupform.controls['BusRouteName'].errors && (signupform.controls['BusRouteName'].dirty || signupform.controls['BusRouteName'].touched)">
                            <small class="text-danger" *ngIf="signupform.get('BusRouteName').hasError('required')">Bus Route Name is required </small>
  
  
                          </div>
                        </div>
                      </div>
  
                      <div class="col-md-6">
  
                      </div>
                    </div>
  
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                      
                    <h4 class="form-section">
                      <i class="ft-file-text"></i> Address Information</h4>
                    <div class="row">
                      <div class="col-md-6">
                          
                        <div class="form-group" >
  
                            <label for="Address">Address</label>
                            <textarea id="Address" rows="5" class="form-control" name="Address" formControlName="Address" [(ngModel)]="student.Address"
                              required></textarea>
                            <div *ngIf="signupform.controls['Address'].errors && (signupform.controls['Address'].dirty || signupform.controls['Address'].touched)">
                              <small class="text-danger" *ngIf="signupform.get('Address').hasError('required')">Address is required </small>
    
    
                            </div>
                          
                          
                          <br>
                          <br>
                          <br>
                          <div class="row"></div>
                        </div>
                      </div>
                      <div class="col-md-6">
                      </div>
                    </div>
  
                  </div>
                  <div class="col-md-6"></div>
                </div>
              </div>
              <div class="form-actions">
                <div class="savecl">
                  <button type="submit" class="btn btn-raised btn-raised btn-primary" [disabled]="!signupform.valid">
                    <i class="fa fa-check-square-o"></i> Save
                  </button>
                  <button type="button" class="btn btn-raised btn-raised btn-warning mr-1" (click)="Cancel()">
                    <i class="ft-x"></i> Cancel
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- // Basic form layout section end -->

<input type="file" style="display: inline-block;" (change)="incomingfile($event)" placeholder="Upload file" accept=".xlsx">
<button type="button" class="btn btn-raised btn-primary" (click)="Upload()">Upload</button>

<table id="example" class="table table-striped table-bordered" style="width:100%">
  <thead>
    <tr>
      <th>Edit</th>
      <th>Delete</th>
      <th>FirstName</th>
      <th>LastName</th>
      <th>DateOfBirth</th>
      <th>AadharNumber</th>
      <th>ParentName</th>
      <th>ParentNumber</th>
      <th>Address</th>
      <th>RollNumber</th>
      <th>BusRouteNumber</th>
      <th>BusRouteName</th>
      <th>Gender</th>
      <th>Class</th>
      <th>Section</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of StudentDataList">
      <td>
        <button (click)="editstudent(item)">Edit</button>
      </td>
      <td>

        <button (click)="OnDeleteClick(item,i,deletestudent)">Delete</button>
      </td>
      <td>{{item.FirstName}}</td>
      <td>{{item.LastName}}</td>
      <td>{{item.DateOfBirth|date}}</td>
      <td>{{item.AadharNumber}}</td>
      <td>{{item.ParentName}}</td>
      <td>{{item.ParentNumber}}</td>
      <td>{{item.Address}}</td>
      <td>{{item.RollNumber}}</td>
      <td>{{item.BusRouteNumber}}</td>
      <td>{{item.BusRouteName}}</td>
      <td>{{item.Gender}}</td>
      <td>{{item.Class}}</td>
      <td>{{item.Section}}</td>
    </tr>
    <tr *ngIf="StudentDataList.length==0" style="height:200px">
      <td colspan="16">No data to display</td>
    </tr>
  </tbody>
</table>
<!-- <table class="table tbl_footer">
  <tfoot>
    <tr>
      <td colspan="16">
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </td>
    </tr>
  </tfoot>
</table> -->



<div class="container-fluid">
  <div class="row">
    <button id="btnSubmit" class="btn btn-raised btn-primary">Submit</button>
  </div>
</div>


<!--File Upload  -->

<!-- <ng-template #importfile>
  <div class="modal-header" style="background-color:#2dada6">
    <h4 class="modal-title " style="color:white">File Upload</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="col-md-12" style="padding-top:20px;padding-bottom:20px">
    <div class="form-group">
      <input type="file" style="display: inline-block;" (change)="incomingfile($event)" placeholder="Upload file" accept=".xlsx">
      <button type="button" [disabled]="IsUploadBtn" class="btn btn-info" (click)="Upload()">Upload</button>
    </div>
    <div class="col-md-12" style="margin-top: 20px"></div>
  </div>
</ng-template> -->


<!-- Deleting Confirmation Popup -->
<ng-template #deletestudent>
  <div class="modal-header" style="background-color:#2dada6">
    <h4 class="modal-title " style="color:white">Are you sure do you want to delete?</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="col-md-12">
    <div class="form-group" style="text-align:center;margin-top: 18px;">
      <button type="button" class="btn btn-success" aria-label="Delete" (click)="ConfirmedToDeleteStudentDetails(delInvoiceNumber,delindex)"
        style="width:70px;margin-right:5px">
        <span style="color:black;">YES</span>
      </button>
      <button type="button" class="btn btn-warning" aria-label="Cancel" (click)="modalRef.hide()" style="width:70px;margin-left:5px">
        <span style="color: black;">NO</span>
      </button>
    </div>
  </div>
</ng-template>